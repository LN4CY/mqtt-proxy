# MQTT Proxy Development - Task List

## âœ… Phase 1: TCP Proxy (Complete)

- [x] Initial proxy setup and connection
- [x] Fix AttributeError with TCPInterface instantiation
- [x] Implement channel mapping logic
- [x] Debug packet publishing to MQTT
- [x] Analyze iOS app source code for correct implementation
- [x] Implement mqttClientProxyMessage protocol (inbound)
- [x] Implement mqttClientProxyMessage protocol (outbound)
- [x] Simplify MQTT message forwarding
- [x] Test traceroutes on all channels
- [x] Test messages on all channels
- [x] Verify no duplicate messages
- [x] Production hardening (remove hardcoded values, pin dependencies)
- [x] Documentation (README, CONFIG, walkthrough)

## ðŸ”„ Phase 2: Multi-Interface Support (In Progress)

### Refactoring
- [/] Extract common [_handleFromRadio()](file:///C:/Users/dremb/.gemini/antigravity/brain/cd00e979-2d9a-4abd-80d8-38d6d36e6d90/tcp-mqtt-proxy.py#340-376) logic
- [ ] Create interface factory pattern
- [ ] Add `INTERFACE_TYPE` environment variable

### Serial Support
- [ ] Create `RawSerialInterface` class
- [ ] Add `SERIAL_PORT` configuration
- [ ] Test with USB-connected node
- [ ] Update documentation

### BLE Support
- [ ] Create `RawBLEInterface` class
- [ ] Add `BLE_ADDRESS` configuration
- [ ] Handle Docker BLE requirements
- [ ] Test with BLE-connected node
- [ ] Update documentation

### Final Integration
- [ ] Test all three interface types
- [ ] Update README with interface examples
- [ ] Update CONFIG.md with new variables
